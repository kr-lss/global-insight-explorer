<!DOCTYPE html>
<html lang="ko">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Global Insight Explorer - 미디어 콘텐츠 분석 및 사실 검증</title>
  <link rel="stylesheet" href="base.css">
  <link rel="stylesheet" href="main.css">
</head>
<body>
  <header class="header">
    <div class="header-content">
      <h1>🌍 Global Insight Explorer</h1>
      <p class="subtitle">미디어 콘텐츠 분석 및 사실 검증 도구</p>
    </div>
  </header>

  <main class="main-container">
    <div class="content-wrapper">

      <!-- 인기/최근 분석 탭 -->
      <section class="history-tabs card">
        <div class="tab-buttons">
          <button class="tab-btn active" data-tab="input">새 분석</button>
          <button class="tab-btn" data-tab="popular">인기 콘텐츠</button>
          <button class="tab-btn" data-tab="recent">최근 분석</button>
        </div>
      </section>

      <!-- 입력 섹션 -->
      <section id="inputTab" class="input-section card">
        <h2>콘텐츠 분석하기</h2>
        <div class="input-group">
          <input
            type="text"
            id="urlInput"
            placeholder="YouTube 링크 또는 기사 URL을 입력하세요"
            class="url-input"
          >

          <div class="type-switch">
            <label class="radio-label">
              <input type="radio" name="inputType" value="youtube" checked>
              <span class="radio-text">📺 YouTube</span>
            </label>
            <label class="radio-label">
              <input type="radio" name="inputType" value="article">
              <span class="radio-text">📰 Article</span>
            </label>
          </div>

          <button id="analyzeBtn" class="btn btn-primary">
            <span class="btn-text">분석 시작</span>
          </button>
        </div>
      </section>

      <!-- 로딩 인디케이터 -->
      <div id="loading" class="loading-container hidden">
        <div class="spinner"></div>
        <p class="loading-text">분석 중입니다...</p>
      </div>

      <!-- 인기 콘텐츠 섹션 -->
      <section id="popularTab" class="history-section card hidden">
        <h2>인기 콘텐츠</h2>
        <p class="section-description">최근 7일간 가장 많이 분석된 콘텐츠입니다</p>
        <div id="popularList" class="history-list"></div>
      </section>

      <!-- 최근 분석 섹션 -->
      <section id="recentTab" class="history-section card hidden">
        <h2>최근 분석</h2>
        <p class="section-description">최근에 분석된 콘텐츠 목록입니다</p>
        <div id="recentList" class="history-list"></div>
      </section>

      <!-- 에러 메시지 -->
      <div id="error" class="error-message hidden"></div>

      <!-- 분석 결과 섹션 -->
      <section id="resultsSection" class="results-section hidden">
        <div class="card">
          <h2>📋 분석 결과</h2>
          <div id="keyClaims" class="key-claims-container"></div>
        </div>

        <!-- 다양한 관점 탐색 섹션 -->
        <div id="factCheckSection" class="card hidden">
          <h2>🔍 다양한 관점 찾기</h2>
          <p class="section-description">
            아래 주장을 선택하거나, 직접 입력하여 다양한 출처와 관점을 찾아보세요.
          </p>

          <!-- 직접 입력 영역 -->
          <div class="custom-claim-input">
            <label for="customClaimInput">💭 직접 입력한 주장:</label>
            <textarea
              id="customClaimInput"
              placeholder="예: 한국의 출산율이 세계 최저 수준이다"
              rows="3"
            ></textarea>
            <small class="input-hint">위의 분석 결과를 선택하거나, 여기에 직접 궁금한 주장을 입력하세요.</small>
          </div>

          <!-- 빠른 검색 설정 -->
          <div class="quick-search-option">
            <label class="checkbox-label">
              <input type="checkbox" id="skipAIConfirmation">
              <span class="checkbox-text">⚡ AI 분석 확인 건너뛰기 (빠른 검색)</span>
            </label>
          </div>

          <button id="factCheckBtn" class="btn btn-secondary">
            <span class="btn-text">다양한 출처 찾기</span>
          </button>

          <!-- AI 분석 확인 카드 (인라인, 평소에는 숨김) -->
          <div id="aiConfirmationCard" class="ai-confirmation-card hidden">
            <div class="card-header">
              <span class="card-icon">🤖</span>
              <span class="card-title">AI가 이렇게 이해했어요</span>
            </div>

            <div class="interpretation-content">
              <div class="interpretation-item">
                <strong>핵심 의도:</strong>
                <span id="aiInterpretedIntent" class="interpretation-text"></span>
              </div>

              <div class="interpretation-item">
                <strong>검색 키워드:</strong>
                <div id="aiKeywords" class="keywords-list"></div>
              </div>

              <div class="interpretation-item">
                <strong>대상 국가:</strong>
                <div id="aiCountries" class="countries-list"></div>
              </div>
            </div>

            <div class="confirmation-actions">
              <button id="confirmSearchBtn" class="btn btn-primary">
                <span class="btn-text">✓ 이대로 검색</span>
              </button>
            </div>
          </div>

          <div id="factCheckResults" class="fact-check-results"></div>
        </div>
      </section>

    </div>
  </main>

  <footer class="footer">
    <div class="footer-content">
      <p>&copy; 2025 Global Insight Explorer. All rights reserved.</p>
      <p class="footer-note">이 도구는 참고용이며, 최종 판단은 사용자가 직접 하시기 바랍니다.</p>
    </div>
  </footer>

  <!-- 공유 유틸리티 함수 (향후 중복 코드 제거 시 사용) -->
  <script src="shared.js"></script>
  <script src="main.js"></script>
</body>
</html>
